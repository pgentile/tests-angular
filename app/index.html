<!DOCTYPE html>
<html lang="fr">
  <head>
    <title>Tests AngularJS</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/styles/styles.min.css" rel="stylesheet">
    <script src="/static/jquery/dist/jquery.min.js"></script>
    <script src="/static/angular/angular.min.js"></script>
    <script src="/static/angular-animate/angular-animate.min.js"></script>
    <script src="/static/angular-route/angular-route.min.js"></script>
    <script src="/static/flot/jquery.flot.js"></script>
    <script src="/static/d3/d3.min.js"></script>
    <script src="/js/app.min.js"></script>
  </head>
  <body ng-app="tests">
    
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation" ng-controller="MainNavController">
      <div class="container-fluid">

        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
            <span class="sr-only">Afficher / masquer la navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#!/home">Tests AngularJS</a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">
          <ul class="nav navbar-nav">
            <li ng-repeat="page in ::pages" ng-switch="page.group" ng-class="{ active: isActive(page), dropdown: page.group }">
                <a ng-switch-when="true" class="dropdown-toggle" data-toggle="dropdown">
                  {{ ::page.name }}
                  <span class="caret" ng-if="page.group"></span>
                </a>
                <a ng-switch-default ng-href="#!{{ ::page.url }}">
                  {{ ::page.name }}
                </a>
                <ul class="dropdown-menu" role="menu" ng-if="page.group">
                  <li ng-repeat="subPage in ::page.subPages" ng-class="{ active: isActive(subPage) }">
                    <a ng-href="#!{{ ::subPage.url }}">{{ subPage.name }}</a>
                  </li>
                </ul>
            </li>
          </ul>
        </div>

      </div>
    </nav>
    
    <div class="container-fluid" ng-cloak>
      
      <div ng-controller="ErrorController">
        <div class="alert alert-danger" role="alert" ng-show="errMessage">
          <button type="button" class="close" ng-click="errMessage = undefined">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">Close</span>
          </button>
          <strong>ERREUR :</strong> {{ errMessage }}
        </div>
      </div>
      
      <div ng-view></div>
      
    </div>
      
    <script src="/static/bootstrap/dist/js/bootstrap.min.js"></script>
  </body>
</html>
